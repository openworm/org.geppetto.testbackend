language: java

env:
- NEURON_HOME=$TRAVIS_BUILD_DIR/nrn-7.3/x86_64/bin/

install:
    - git clone https://github.com/openworm/org.geppetto.model.git -b $TRAVIS_BRANCH
    - cd org.geppetto.model
    - mvn install
    - cd ..
    - git clone https://github.com/openworm/org.geppetto.core.git -b $TRAVIS_BRANCH
    - cd org.geppetto.core
    - mvn install
    - cd ..
    - git clone https://github.com/openworm/org.geppetto.simulation.git -b $TRAVIS_BRANCH
    - cd org.geppetto.simulation
    - mvn install
    - cd ..
    - git clone https://github.com/openworm/org.geppetto.model.neuroml.git -b $TRAVIS_BRANCH
    - cd org.geppetto.model.neuroml
    - mvn install
    - cd ..
    - wget http://www.neuron.yale.edu/ftp/neuron/versions/v7.3/nrn-7.3.tar.gz
    - tar xzvf nrn-7.3.tar.gz
    - cd nrn-7.3
    - ./configure --prefix `pwd` --without-iv --with-nrnpython
    - make
    - make install
    - cd src/nrnpython
    - sudo python setup.py install
    - cd ..
    - cd ..
    - cd ..
    - git clone https://github.com/openworm/org.geppetto.simulator.external.git -b $TRAVIS_BRANCH
    - cd org.geppetto.simulator.external
    - mvn install
    - cd ..
    - git clone https://github.com/openworm/org.geppetto.model.swc.git -b $TRAVIS_BRANCH
    - cd org.geppetto.model.swc
    - mvn install
    - cd ..
    - git clone https://github.com/openworm/org.geppetto.persistence.git -b $TRAVIS_BRANCH
    - cd org.geppetto.persistence
    - mvn install
    - cd ..
    
    
 
 


